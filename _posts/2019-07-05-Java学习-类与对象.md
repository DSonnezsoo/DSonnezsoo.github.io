---
layout:     post
title:      Java
subtitle:   Java学习
date:       2019-07-05
author:     丁帅
header-img: img/post-bg-Java.jpg
catalog: true
tags:
    - Java
---

> 写正文前，先来说一下编程语言的几个发展阶段，来帮助理解Java的特征之一：**面向对象**。

​		**编程语言总体来说经历了三个阶段：面向机器语言、面向过程语言、面向对象语言。**

​		**面向机器编程**指的是使用机器可以理解的二进制指令序列来编程，其特点就是简单的任务需要编写大量的代码，且同样的任务，需要针对不同型号的计算机来编写指令。面向机器语言最具代表性的就是汇编语言（虽然在编写指令时，用一些简单的容易记的符号来代替二进制指令，但汇编语言仍然是面向机器语言，需针对不同的机器来编写不同的代码）。习惯上，我们称面向机器的语言为低级语言。

​		**面向过程编程**指的是我们在编写代码的过程中不必再考虑机器指令的具体细节，只需要按照你所使用的语言的语法规则来编写源文件，来想法设法具体实现我们的目的即可。面向过程的语言把代码的组成叫做过程或函数的块。过程语言的语法更接近人们的自然语言，人们只需按照自己的意图来编写各个函数，习惯上称过程语言为高级语言。如：C语言。

​		**面向对象语言**是在人们希望编写出**易维护、易扩展、易复用**的希望下产生的。其最大的特点就是将过程赋予了一个主体（对象）。在面向对象的语言中，我们所做的一切都要围绕着对象。

​		面向对象的三个特性：

	1. 封装性：将数据和对数据的操作操作封装在一起。
 	2. 继承：子类可以继承父类所具有的数据和数据上的操作，同时又可以增添子类独有的数据和数据上的操作操作。
 	3. 多态：有两种意义的多态，一种是**操作名称的多态**，即多个操作具有相同的名字，但这些操作所接收的消息类型必须不同。另一种多态是**和继承有关的多态**，指同一个操作被不同类型对象调用时可能产生不同的行为。

# 类

> 类是Java的基本要素，一个Java应用程序就是由若干个类所构成的。
>
> 类的目的是抽象出一类事物共有的属性和行为，并用一定的语法格式来描述所抽象出的属性和行为。
>
> 类是一种用于创建具体事例（对象）的**数据类型**。

组成：

```java
                            class 类名{				   	  //类声明
                                类体的内容					//类体
                            }
```

### 类声明
	1. 有良好的编程风格
 	2. 命名遵守驼峰习惯

### 类体

​	包含两个部分：成员变量、成员方法

#### 成员变量（域变量）

1. 类型：可以是Java中任何一种数据类型。
2. 有效范围：成员变量在整个类内都有效，其有效性与它在类体中书写的先后位置无关。
3. 编程风格：
   - 最好一行只声明一个变量，虽然可以用逗号隔开声明若干个。
   - 变量的名字除了要符合标识符规定外，名字的首单词的首字母要小写，然后遵守驼峰习惯。

#### 方法

1. 方法头组成：类型  名称  名称之后的一对小括号  括号内的参数列表
2. 方法体
   - 局部变量：在方法体中 **声明的变量** 和 **方法的参数**（括号里的）
     - 有效范围
       1. 方法的参数在整个方法中有效
       2. 方法内的局部变量从声明它的位置之后开始有效
       3. 如果局部变量的声明是在一个复合语句中，那么该变量的有效范围是该复合语句
       4. 如果局部变量的声明是在一个循环语句中，那么该变量的有效范围是该循环语句

#### 需要注意的问题

- 成员变量只要声明就会有默认值0.
- 局部变量没有默认值，因此在使用局部变量之前，必须保证局部变量有具体的值。
- 对成员变量的操作只能放在方法中，方法使用各种语句对成员变量和方法中声明的局部变量进行操作；声明成员变量时可以赋予初值，但是，在方法外分开来做就不合法。

### 构造方法与对象的创建

1. 用类声明的变量被称为对象；
2. 和基本数据不同，在用类声明对象后还必须创建对象，即为所声明的对象分配所拥有的变量（确定对象所具有的属性。
3. 当使用一个类创建一个对象时，也称给出了这个类的实例。

#### 构造方法

> 构造方法是类中的一种特殊方法，当程序用类创建对象时需使用它的构造方法。
>
> 就是给成员变量初始化。

##### 需要注意的地方

- 构造方法的名字必须与它所在的类的名字完全相同，而且没有类型。

- 允许在一个类中编写若干个构造方法，但必须保证他们的参数不同。

  *所谓参数不同就是：参数的个数不同或参数个数相同，但参数列表对应的某个参数的类型不同*

- 如果类中没有编写构造方法，系统会默认该类只有一个无参的构造方法，且方法体中没有语句。

#### 创建对象

> 创建对象包括对象的声明和为对象分配变量两个步骤

#### 对象的内存模型

1. **声明对象时的内存模型**：声明对象变量后，对象的内存还没有任何数据，称这时的对象是一个空对象。

   - 空对象不能使用，因为它还没有得到任何“实体”，必须再进行为对象分配变量的操作，即为对象分配实体。
![4-1](E:\Github\DSonnezsoo.github.io\img\Java\4-1.png)

2. **为对象分配变量后的内存模型**

   1. 先为成员变量分配内存，然后执行构造方法中的语句。
      - 如果成员变量在声明时没有指定初值，所使用的构造方法也没有对成员变量进行初始化操作，那么，对于整型的成员变量，默认初值是0；浮点型，默认初值是0.0；布尔型，默认初值是false；引用型，默认初值是null
      - ```java
		  new ShuiHuZhuan();
		  ```

   2. new运算符在为成员变量分配好内存后，将计算出一个称作引用的值（该值包含着代表这些成员变量的内存以及相关的重要信息），即`new ShuiHuZhuan();`是一个值。如果把该值赋给`wusong`：
   
      ```java
      wusong = new ShuiHuZhuan();
      ```
   
      那么Java系统分配的成员变量的内存单元将由`wusong`操作管理。**总结：所谓创建对象，就是指为对象分配变量，并获得一个引用，以确保这些变量由该对象来操作管理。**
   ![4-2](E:\Github\DSonnezsoo.github.io\img\Java\4-2.png)
   
3. ##### 创建多个不同的对象

   一个类可以通过使用`new`运算符创建多个不同的对象，这些对象的变量将被分配不同的内存空间。

   ```java
   wusong = new ShuiHuZhuan();
   linchong = new ShuiHuZhuan();
   ```

   ![4-3](E:\Github\DSonnezsoo.github.io\img\Java\4-3.png)

注：

- 对象的引用存在栈中，对象的实体（分配给对象的变量）存在堆中。

- 栈的优势是，存取速度比堆要快。缺点是，存在栈中的数据大小与生存周期必须是确定的，缺乏灵活性。
- 堆的优势是，可以动态地分配内存大小，生存期也不必事先告诉编译器，Java的垃圾收集器会自动收走这些不再使用的数据。但缺点是，由于要在运行时动态分配内存，存取速度较慢。

























